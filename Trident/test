-- Get Closest to mouse
function getClosestPlayerToCursor()
    local closestPlayer = nil;
    local shortestDistance = ASSettings["AimDis"];

    for i, v in pairs(workspace:GetChildren()) do
        if v:IsA("Model") and v:FindFirstChild("HumanoidRootPart") then
            if v:FindFirstChild("Head") then
                local pos = Camera.WorldToViewportPoint(Camera, v.Head.Position)
                local magnitude = (Vector2.new(pos.X, pos.Y) - Vector2.new(Mouse.X, Mouse.Y)).magnitude

                if magnitude < shortestDistance then
                    closestPlayer = v
                    shortestDistance = magnitude
                end
            end
        end
    end

    return closestPlayer
end


print(getClosestPlayerToCursor())
